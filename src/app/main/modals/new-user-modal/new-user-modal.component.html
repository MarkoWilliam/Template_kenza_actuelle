<h1 mat-dialog-title class="titre">Nouveau</h1>
<div class="radio">
    <mat-radio-group [(ngModel)]="is_image">
        <mat-radio-button [value]="1" [checked]="1">
            Utilisateur
        </mat-radio-button>
        <mat-radio-button [value]="2" [checked]="2">
            Type utilisateur
        </mat-radio-button>
    </mat-radio-group>
</div>
<div mat-dialog-content class="div">

    <!-- <div [hidden]="ishidden0"> -->
    <div *ngIf="is_image==1">
        <form [formGroup]="registrationForm" autocomplete="off">


            <div class="user-box">
                <img class="prof_image" src="{{base_url}}produit/imageban/{{modelUser.nom_image}}" onError="this.src='assets/img/fond_bo.png'">
                <br>
                <label>
                <input type="file"  value="url_img" (change)="onFileSelected($event)"/>
            </label>
            </div>
            <br>


            <div class="user-box">
                <label position="floating">Nom</label>
                <div class="error" id="test" *ngFor="let error of errorMessages.name">
                    <ng-container *ngIf="name.hasError(error.type) && (name.dirty || name.touched)">
                        <small class="error-message">{{error.message}}</small>
                    </ng-container>
                </div> <br>
                <input id="input_register" [(ngModel)]="modelUser.nom" type="text" formControlName="name" inputmode="text">
            </div>

            <div class="user-box">
                <label position="floating">Prenom</label>
                <div class="error" id="test" *ngFor="let error of errorMessages.firstname">
                    <ng-container *ngIf="firstname.hasError(error.firstname) && (firstname.dirty || firstname.touched)">
                        <small class="error-message">{{error.message}}</small>
                    </ng-container>
                </div> <br>
                <input id="input_register" [(ngModel)]="modelUser.prenom" type="text" color="blue" formControlName="firstname" inputmode="text">
            </div>

            <div class="user-box">
                <div class="error" id="test" *ngFor="let error of errorMessages.typeuser">
                    <ng-container *ngIf="typeuser.hasError(error.typeuser) && (typeuser.dirty || typeuser.touched)">
                        <small class="error-message">{{error.message}}</small>
                    </ng-container>
                </div>
                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Choix d'utilisateur</mat-label>
                    <mat-select matNativeControl required [(ngModel)]="modelUser.id_type" formControlName="typeuser">
                        <mat-option *ngFor="let user of typeUser" value="{{user.id_type_user}} ">
                            {{user.nom_type}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>

            </div>

            <div class="user-box">
                <label position="floating">Email</label>
                <input id="input_register" [(ngModel)]="modelUser.email" type="email" formControlName="message" inputmode="email">
                <div class="error" id="test" *ngFor="let error of errorMessages.message">
                    <ng-container *ngIf="message.hasError(error.type) && (message.dirty || message.touched)">
                        <small class="error-message">{{error.message}}</small>
                    </ng-container>
                </div>

            </div>

            <div class="user-box">
                <label position="floating">Mot de passe</label>
                <div class="error" id="test" *ngFor="let error of errorMessages.message">
                    <ng-container *ngIf="pass.hasError(error.type) && (pass.dirty || pass.touched)">
                        <small class="error-message">{{error.pass}}</small>
                    </ng-container>
                </div>
                <br>
                <input id="input_register" [(ngModel)]="modelUser.password" type="password" formControlName="pass" inputmode="password">

            </div>
        </form>

        <div mat-dialog-actions>
            <button mat-button mat-dialog-close class="red">Fermer</button>
            <button mat-button mat-dialog-close [disabled]="!registrationForm.valid" (click)="registerEntrer(mode)" color="warning" class="green">Enregistrer</button>
        </div>
    </div>




    <div *ngIf="is_image==2">
        <form [formGroup]="Formregistration" autocomplete="off">
            <div class="user-box">
                <label position="floating">Type utilisateur</label>
                <div class="error" id="test">
                    <ng-container>
                        <small class="error-message"> </small>
                    </ng-container>
                </div> <br>
                <input id="input_register" [(ngModel)]="modelType.nom_type" type="text" formControlName="type_nom" inputmode="text">
            </div>
        </form>
        <div mat-dialog-actions>
            <button mat-button mat-dialog-close class="red">Fermer</button>
            <button mat-button mat-dialog-close [disabled]="!Formregistration.valid" (click)="TypeUser()" color="warning" class="green">Enregistrer</button>
        </div>
    </div>